{% extends 'base.html' %}

{% block title %}Weather Forecast{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center">Weather Forecast</h1>
    <div class="app-container mt-4">
        <h2 class="text-center">Check the Weather</h2>
        
        <!-- Form for latitude and longitude input -->
        <form method="POST">
            <div class="form-group">
                <label for="latitude">Latitude:</label>
                <input type="text" name="lat" id="latitude" class="form-control" placeholder="Enter latitude" required>
            </div>
            <div class="form-group">
                <label for="longitude">Longitude:</label>
                <input type="text" name="lon" id="longitude" class="form-control" placeholder="Enter longitude" required>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Get Weather</button>
        </form>

        {% if temperature and wind_speed %}
        <!-- Display weather result -->
        <div class="weather-result mt-4 p-4 border rounded shadow-sm">
            <h4 class="text-center mb-3">Weather for (Latitude: {{ lat }}, Longitude: {{ lon }}):</h4>
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Temperature:</strong> {{ temperature }}</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Wind Speed:</strong> {{ wind_speed }}</p>
                </div>
            </div>
        </div>
        {% endif %}

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="alert alert-warning mt-3">
                    {% for category, message in messages %}
                        <strong>{{ category }}:</strong> {{ message }}
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
    </div>
</div>

{% endblock %}
